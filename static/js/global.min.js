var o=new Event("o");const root=getQuery(":root").get(0),m=getElm("menu"),n=[getElm("h-n-b-e-1"),getElm("h-n-b-e-2"),getElm("h-n-b-e-3"),getElm("h-n-b-e-4"),getElm("h-n-b-e-5")],v=[getQuery(".n-foldable1").get(0),getQuery(".n-foldable2").get(0),getQuery(".n-foldable3").get(0),getQuery(".n-foldable4").get(0),getQuery(".n-foldable5").get(0)],d=getElm("darkmode2"),b=getElm("darkmode3"),h=getElm("newsletter-anrede-herr"),w=getElm("newsletter-anrede-frau");let q=5,g=5;m.click(()=>{m.toggleClass("is-active");document.dispatchEvent(o)});on(document,"o",()=>{m.hasClass("is-active")?O():N()});getQuery(".n-t-summary").forEach((a,b)=>{a.click(()=>getQuery(".n-t-details").get(b).toggleClass("open"))});getQuery("img").on("dragstart",()=>!1);h.click(()=>{w.checked&&(w.checked=!1)});w.click(()=>{h.checked&&(h.checked=!1)});n.forEach((a,b)=>{gsap.set(v[b],{x:"-50%"});a.click(e=>{e.preventDefault();T(b);a.toggleClass("active");v[b].toggleClass("active");v[b].hasClass("active")?gsap.to(v[b],P("-50%","100%")):gsap.to(v[b],P("-50%",0));v[b].hasClass("active")?getQuery("main *").click(D):getQuery("main *").off("click",D)})});getQuery(".logout").click(async a=>{a.preventDefault();200===(await post("/logout")).status?location.reload():errorField()});function C(){"dark"===root.data("data-theme")?(root.data("data-theme","light"),sessionStorage.setItem("theme","light"),d.data("data-tooltip-content","Lightmode"),b.data("data-tooltip-content","Lightmode")):(root.data("data-theme","dark"),sessionStorage.setItem("theme","dark"),d.data("data-tooltip-content","Darkmode"),b.data("data-tooltip-content","Darkmode"))}function setTheme(){getElm("darkmode").click()}function O(){gsap.to("#nav_mobile",P(0,"100%"));gsap.to("#nav_tab",P("-100%",0));gsap.set("main",{filter:"brightness(100%)"});gsap.to("main",{filter:"brightness(75%)",duration:.5,ease:"power2.inOut"});getQuery("main *").click(M)}function N(){gsap.to("#nav_mobile",P(0,0));gsap.to("#nav_tab",P(0,0));gsap.to("main",{filter:"brightness(100%)",duration:.5,ease:"power2.inOut"});getQuery("main *").off("click",M)}function M(a){a.preventDefault();m.click()}function D(a){a.preventDefault();T();getQuery("main *").click(D)}function P(a,b){return{x:a,y:b,duration:.5,ease:"power2.inOut"}}function T(a){v.forEach((b,e)=>{e!=a&&b.hasClass("active")&&(b.toggleClass("active"),n[e].toggleClass("active"),gsap.to(b,P("-50%",0)))})}function V(){getElm("nav_desktop").css({"--nav_desktop_margin":getQuery(".logo").get(0).x()+"px","--h_d_l_1":getElm("h-n-b-e-1").x()+"px","--h_d_l_2":getElm("h-n-b-e-2").x()+"px","--h_d_l_3":getElm("h-n-b-e-3").x()+"px","--h_d_l_4":getElm("h-n-b-e-4").x()+"px","--h_d_l_5":getElm("h-n-b-e-5").x()+"px"})}function F(){const a=getElm("newsletter-anrede-herr"),b=getElm("newsletter-anrede-frau");var e=getElm("newsletter-vorname");const c=getElm("newsletter-nachname"),d=getElm("newsletter-email");if(e.valIsEmpty())return{err:1};if(c.valIsEmpty())return{err:2};if(d.valIsEmpty())return{err:3};e={gender:"Divers",firstName:e.val(),lastName:c.val(),email:d.val()};a.checked&&(e.gender="Herr");b.checked&&(e.gender="Frau");return{err:0,data:e}}function S(a){a.preventDefault();a=getElm("newsletter-form-error");const b=F();switch(b.err){case 1:a.html("Du musst deinen Vornamen angeben.");a.show();break;case 2:a.html("Du musst deinen Nachnamen angeben.");a.show();break;case 3:a.html("Du musst deine E-Mail angeben.");a.show();break;default:W(b.data)}}function toBase64Max1MB(a){return new Promise((b,e)=>{const c=new FileReader;c.onload=()=>{const d=new Image;d.src=c.result;d.onload=()=>{var f=document.createElement("canvas");const l=f.getContext("2d");let g=d.width,h=d.height;if(1048576<a.size){const k=Math.min(1,1048576/a.size);g*=k;h*=k}f.width=g;f.height=h;l.drawImage(d,0,0,g,h);f=f.toDataURL("image/jpeg",.75);b(f)}};c.onerror=e;c.readAsDataURL(a)})}function toRealDate(a){return toDateString(a)}function nofunction(){}function I(){null===sessionStorage.getItem("theme")?sessionStorage.setItem("theme","light"):"dark"===sessionStorage.getItem("theme")&&setTheme()}async function W(a){if("Alles in Ordnung"!==(await post("/post/newsletter/signUp",a).catch(()=>{const b=getElm("newsletter-form-error");b.html("Es ist ein unerwarteter Fehler aufgetreten, bitte versuche es in einigen Sekunden erneut...");b.show()})).status)return errorField(res.status);successField("Du hast dich erfolgreich f\u00fcr den Newsletter angemeldet.")}async function B(a){const b=await post("/post/blog/getLinks/"+a);[getQuery(".n-t li .n-t-details ul").get(2),getQuery(".n-m li .n-t-details ul").get(2),getQuery(".n-foldable3 ul").get(0)].forEach(e=>{e.html("");b.title.forEach(c=>{const d=createElm("a"),f=createElm("li");d.href=ORIGIN+"/blog/"+c.title;d._text(c.title);f.append(d);e.append(f)});if(b.title.length===a){const c=createElm("a"),d=createElm("li");c.href="#";c._text("Weitere");c.click(f=>{f.preventDefault();q+=5;B(q)});d.append(c);e.append(d)}})}B(q);async function G(a){const b=await post("/post/gallery/getLinks/"+a);[getQuery(".n-t li .n-t-details ul").get(3),getQuery(".n-m li .n-t-details ul").get(3),getQuery(".n-foldable4 ul").get(0)].forEach(e=>{e.html("");b.title.forEach(c=>{const d=createElm("a"),f=createElm("li");d.href=ORIGIN+"/gallery/"+c.title;d._text(c.title);f.append(d);e.append(f)});if(b.title.length===a){const c=createElm("a"),d=createElm("li");c.href="#";c._text("Weitere");c.click(f=>{f.preventDefault();g+=5;B(g)});d.append(c);e.append(d)}})}G(g);getElm("darkmode").click(C);getElm("newsletter-submit").click(S);ready(V);on(window,"resize",V);[d,b].forEach(a=>a.click(setTheme));I();timonjs_message();var i=setInterval(V,1E3);if(!ORIGIN.includes("://www."))window.location.replace(ORIGIN.replace("://", "://www."))